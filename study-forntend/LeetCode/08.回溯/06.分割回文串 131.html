<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            /**
             * @param {string} s
             * @return {string[][]}
             * 回溯，时间复杂度O(n * 2^n), 空间复杂度O(n * 2^n)
             */
            var partition = function (s) {
                let isPalindrome = (s, l, r) => {
                    for (let i = l, j = r; i < j; i++, j--) {
                        if (s[i] !== s[j]) {
                            return false;
                        }
                    }
                    return true;
                };
                let res = [];
                let path = [];
                let backtracking = index => {
                    if (index >= s.length) {
                        res.push([...path]);
                        return;
                    }
                    for (let i = index; i < s.length; i++) {
                        if (!isPalindrome(s, index, i)) {
                            continue;
                        }
                        path.push(s.substring(index, i + 1));
                        backtracking(i + 1);
                        path.pop();
                    }
                };
                backtracking(0);
                return res;
            };
        </script>
    </body>
</html>
