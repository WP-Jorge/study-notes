<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			let bag = () => {
				// 背包的大小与物品的重量和价值（排序后dp表才是正确的，如果不排序，虽然结果正确，但是dp表的部分数据有误）
				let weight = [1, 3, 4];
				let value = [15, 20, 30];
				let bagWeight = 4;

				// 初始化dp表
				let dp = new Array(weight.length).fill().map(item => new Array(bagWeight + 1).fill(0));
				for (let j = weight[0]; j <= bagWeight; j++) {
					dp[0][j] = value[0];
				}
				/**
				 * 		0	1	2	3	4
				 * 0	0	15	15	15	15
				 * 1	0	0	0	0	0
				 * 2	0	0	0	0	0
				 */
				console.table(dp);

				// 开始填充背包
				for (let i = 1; i < weight.length; i++) {
					for (let j = 1; j <= bagWeight; j++) {
						// 如果新加的一个物品重量大于背包的容量，那么 dp[i][j] = dp[i - 1][j]
						if (j < weight[i]) {
							dp[i][j] = dp[i - 1][j];
							console.table(dp);
							continue;
						}
						// 如果新加的一个物品的重量小于背包的容量，那么 取不放新加的物品时与放新加物品时的最大价值
						dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);
						console.table(dp);
					}
				}
				console.table(dp);
				return dp[weight.length - 1][bagWeight];
			};
			/**
			 * 		0	1	2	3	4
			 * 0	0	15	15	15	15
			 * 1	0	15	15	20	35
			 * 2	0	15	15	20	35
			 */
			console.log(bag());
		</script>
	</body>
</html>
