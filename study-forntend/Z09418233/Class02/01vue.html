<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
	 crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	 crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
	 crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
	 crossorigin="anonymous"></script>

	<style type="text/css">
		#form {
			padding: 10px;
			position: relative;
			min-height: 300px;
			width: 600px;
			border: 1px solid #C0C0C0;
			margin: 0 auto;
		}

		legend {
			width: auto;
		}

		.form-control {
			display: inline-block;
		}

		.custom-select {
			display: inline-block;
			max-width: 60px;
			margin: 0;
		}

		table {
			margin-top: 1px;
			width: 600px !important;
			border: 1px solid #C0C0C0;
			border-collapse: collapse;
			margin: 0 auto;
		}

		#label {
			margin-left: 100px;
		}
		
		tbody tr:hover {
			background-color: skyblue!important;
		}
		
		#app {
			width: 980px;
			margin: 0 auto;
		}
		
	</style>
</head>

<body>
	<div id="app">
		<fieldset id="form">
			<legend>新增员工</legend>
			<div class="form-group row">
				<label class="col-sm-2 col-form-label">Name:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="name" v-model="newPerson.name">
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-2 col-form-label">Age:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" v-model="newPerson.age">
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-2 col-form-label">Sex:</label>
				<div class="col-sm-10">
					<select class="custom-select my-1 mr-sm-2" v-model="newPerson.sex">
						<option value="male">男</option>
						<option value="female">女</option>
					</select>
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-2 col-form-label"></label>
				<div class="col-sm-10">
					<input type="button" class="btn btn-primary" value="添加" @click="createPerson">
				</div>
			</div>
		</fieldset>
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Name</th>
					<th>Age</th>
					<th>Sex</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr v-for="(item, index) in people">
					<td>{{ item.name }}</td>
					<td>{{ item.age }}</td>
					<td>{{ item.sex }}</td>
					<td><button class="btn btn-primary btn-sm" @click="deletePerson(index)">删除</button></td>
				</tr>
			</tbody>
		</table>
	</div>


	<script src="./vue.js"></script>
	<script>
		let VM = new Vue({
			el: '#app',
			data: {
				dataFalse: false,
				newPerson: {
					name: '',
					age: 0,
					sex: 'male'
				},
				people: [{
						name: 'Jorge',
						age: 20,
						sex: 'male'
					},
					{
						name: 'Joke',
						age: 21,
						sex: 'male'
					},
					{
						name: 'Jane',
						age: 20,
						sex: 'female'
					},
					{
						name: 'Meria',
						age: 19,
						sex: 'female'
					}
				]
			},
			methods: {
				testData() {
					if ($("#name").val() === '') {
						this.dataTest = false;
					} else {
						this.dataTest = true;
					}
				},
				createPerson() {
					this.testData();
					if (this.dataFalse) {
						this.testData()
						this.people.push(this.newPerson);
						this.newPerson = {
							name: '',
							age: 0,
							sex: 'male'
						}
					} else {
						alert("Name can't be empty!");
					}
				},
				deletePerson(index) {
					this.people.splice(index, 1);
				}
			}
		})
	</script>
</body>

</html>
