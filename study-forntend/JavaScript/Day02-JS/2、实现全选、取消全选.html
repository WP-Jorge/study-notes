<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<style type="text/css">
		.box{
			width: 350px;
			margin: 100px auto;
		}
		thead tr{
			background-color: pink;
			height: 30px;
		}
		tbody tr {
			height: 30px;
			background-color: skyblue;
		}
		tbody tr:hover{
			background-color: #999;
		}
		table{
			width: 350px;
		}
		
	</style>
	
	<body>
		<div class="box">
			<table>
				<thead>
					<tr>
						<th>
							<input type="checkbox" id="t_checkbox" />
						</th>
						<th>商品</th>
						<th>价格</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<input type="checkbox" />
						</td>
						<td>iPhone8</td>
						<td>8000</td>
					</tr>
					<tr>
						<td>
							<input type="checkbox" />
						</td>
						<td>iPad Pro</td>
						<td>5000</td>
					</tr>
					<tr>
						<td>
							<input type="checkbox" />
						</td>
						<td>iPad Air</td>
						<td>3000</td>
					</tr>
					<tr>
						<td>
							<input type="checkbox" />
						</td>
						<td>Apple Watch</td>
						<td>2000</td>
					</tr>
				</tbody>
			</table>
			
			
		</div>
		
		
		<script type="text/javascript" charset="utf-8">
			//获取元素对象
			var t_checkbox = document.getElementById('t_checkbox')
			var checkboxs = document.querySelector('tbody').getElementsByTagName('input')
			
			//为thead的input标签添加点击事件
			t_checkbox.onclick = function() {
				for(var i = 0; i < checkboxs.length; i++){
					checkboxs[i].checked = this.checked
				}
			}
			
			//为tbody的input标签添加点击事件
			for(var i = 0;i<checkboxs.length;i++){
				checkboxs[i].onclick = function(){
					var flag = true
					//循环判断每个小选项是否全部选中
					for(var i =0;i<checkboxs.length;i++){
						if(!checkboxs[i].checked){
							flag = false
							break
						}
					}
					t_checkbox.checked = flag
				}
			}
		</script>
	</body>
</html>
